angular.module("specerator.data",[]).service("socketApiService",function(t){function o(t,o){var e="";for(var n in o){var s=o[n];e+=encodeURIComponent(n)+"="+encodeURIComponent(s)+"&"}return e.length>0&&(e=e.substring(0,e.length-1),t=t+"?"+e),t}function e(t,o){return t.replace(/{{\s*?(\w*)\s*?}}/g,function(t,e,n){if("undefined"==typeof o[e])return"";var s=o[e];return delete o[e],s})}this.options={accessToken:null},this.getHeaders=function(){return{"content-type":"application/json",authorization:"Bearer "+this.options.accessToken}};var n={on:function(t){io.socket.on(this.model,t)},isConnected:function(){return new t(function(t,o){return io.socket.isConnected?t(!0):void io.socket.on("connect",function(){return t(!0)})})},request:function(n,s,r){return n=n||{},r.data=s||{},r.url=e(r.url,n),n&&(r.url=o(r.url,n)),r.headers=_.merge(this.getHeaders(),r.headers),console.log(r),this.isConnected().then(function(){return t(function(t,o){io.socket.request(r,function(e,n){return n.statusCode>=200&&n.statusCode<=299?t(e):n.statusCode>=400&&n.statusCode<=599?o(n.error):void 0})})})},find:function(t,o){return options={},options.params=o,options.method="GET",options.url=this.url,options.model=this.model,this.request(t,{},options)},findOne:function(t,o){return options={},options.params=o,options.method="GET",options.url=this.url,options.model=this.model,this.request(t,{},options)},create:function(t,o,e){return options=e||{},options.method="POST",options.url=this.url,options.model=this.model,this.request(t,o,options)},update:function(t,o,e){return options=e||{},options.method="PUT",options.url=this.url,options.model=this.model,this.request(t,o,options)},remove:function(t,o){return options=o||{},options.method="DELETE",options.url=this.url,options.model=this.model,this.request(t,{},options)}},s={Document:{model:"document",url:"/projects/{{project}}/documents/{{document}}"},Integration:{model:"integration",url:"/projects/{{project}}/integrations/{{integration}}"},List:{model:"list",url:"/projects/{{project}}/lists/{{list}}"},Passport:{model:"passport",url:"/passports/{{passport}}"},Project:{model:"project",url:"/projects/{{project}}"},Service:{model:"service",url:"/services/{{service}}"},Story:{model:"story",url:"/projects/{{project}}/stories/{{story}}"},User:{model:"user",url:"/users/{{user}}"}};for(m in s)this[m]=_.assign(s[m],this,n);return this});
//# sourceMappingURL=angular-specerator.min.js.map