angular.module("specerator.data",[]).service("socketApiService",function(t){function o(t,o){var e="";for(var s in o){var n=o[s];e+=encodeURIComponent(s)+"="+encodeURIComponent(n)+"&"}return e.length>0&&(e=e.substring(0,e.length-1),t=t+"?"+e),t}function e(t,o){return t.replace(/{{\s*?(\w*)\s*?}}/g,function(t,e,s){if("undefined"==typeof o[e])return"";var n=o[e];return delete o[e],n})}this.options={accessToken:null},this.getHeaders=function(){return{"content-type":"application/json",authorization:"Bearer "+this.options.accessToken}},this.isConnected=function(){return new t(function(t,o){return io.socket.isConnected?t(!0):void io.socket.on("connect",function(){return t(!0)})})},this.request=function(o){return o.headers=_.merge(this.getHeaders(),o.headers),this.isConnected().then(function(){return t(function(t,e){console.log(o),io.socket.request(o,function(o,s){return console.log(s),s.statusCode>=200&&s.statusCode<=299?t(o):s.statusCode>=400&&s.statusCode<=599?e(s.error):void 0})})})};var s={on:function(t){io.socket.on(this.model,t)},request:function(s,n,r){return s=s||{},r.data=n||{},r.url=e(r.url,s),s&&(r.url=o(r.url,s)),r.headers=_.merge(this.getHeaders(),r.headers),console.log(r),this.isConnected().then(function(){return t(function(t,o){io.socket.request(r,function(e,s){return s.statusCode>=200&&s.statusCode<=299?t(e):s.statusCode>=400&&s.statusCode<=599?o(s.error):void 0})})})},find:function(t,o){return options={},options.params=o,options.method="GET",options.url=this.url,options.model=this.model,this.request(t,{},options)},findOne:function(t,o){return options={},options.params=o,options.method="GET",options.url=this.url,options.model=this.model,this.request(t,{},options)},create:function(t,o,e){return options=e||{},options.method="POST",options.url=this.url,options.model=this.model,this.request(t,o,options)},update:function(t,o,e){return options=e||{},options.method="PUT",options.url=this.url,options.model=this.model,this.request(t,o,options)},remove:function(t,o){return options=o||{},options.method="DELETE",options.url=this.url,options.model=this.model,this.request(t,{},options)}},n={Document:{model:"document",url:"/projects/{{project}}/documents/{{document}}"},Integration:{model:"integration",url:"/projects/{{project}}/integrations/{{integration}}"},List:{model:"list",url:"/projects/{{project}}/lists/{{list}}"},Passport:{model:"passport",url:"/passports/{{passport}}"},Project:{model:"project",url:"/projects/{{project}}"},Service:{model:"service",url:"/services/{{service}}"},Story:{model:"story",url:"/projects/{{project}}/stories/{{story}}",sync:function(t,o){return options={},options.params=o,options.method="GET",options.url="/projects/{{project}}/stories/sync",this.request(t,{},options)}},User:{model:"user",url:"/users/{{user}}"}};for(m in n)this[m]=_.assign(n[m],this,s);return this});
//# sourceMappingURL=angular-specerator.min.js.map